@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- App constants ---------- */
:root {
  --nav-h: 4rem;        /* navbar height (h-16) */
  --panel-gap: 0.75rem; /* space between navbar and side panels */
}

/* ---- Design tokens (light) ---- */
:root {
  /* Base neutrals */
  --background: 0 0% 100%;
  --foreground: 222.2 84% 4.9%;
  --border: 214.3 31.8% 91.4%;
  --ring: 215 20.2% 65.1%;
  --radius: 0.5rem;

  /* CPP brand colors */
  --cpp-green: 156 100% 16%;   /* #005030 */
  --cpp-gold: 45 100% 55%;     /* #FFB81C */
  --cpp-avocado: 90 55% 60%;   /* #A4D65E */

  /* Themed roles */
  --primary: var(--cpp-green);
  --primary-foreground: 210 40% 98%;

  --secondary: var(--cpp-gold);
  --secondary-foreground: 222.2 47.4% 11.2%;

  --accent: var(--cpp-avocado);
  --accent-foreground: 222.2 47.4% 11.2%;

  /* Supporting colors */
  --muted: 210 40% 96.1%;
  --muted-foreground: 215.4 16.3% 46.9%;

  --card: 0 0% 100%;
  --card-foreground: 222.2 84% 4.9%;

  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 210 40% 98%;
}

/* ---- Dark mode overrides ---- */
.dark {
  --background: 222.2 84% 4.9%;
  --foreground: 210 40% 98%;
  --border: 217.2 32.6% 17.5%;
  --ring: 215 20.2% 65.1%;

  /* Dark variants of CPP colors (slightly lighter for contrast) */
  --cpp-green: 156 50% 35%;
  --cpp-gold: 45 100% 60%;
  --cpp-avocado: 90 45% 65%;

  --primary: var(--cpp-gold);
  --primary-foreground: 222.2 47.4% 11.2%;

  --secondary: var(--cpp-green);
  --secondary-foreground: 210 40% 98%;

  --accent: var(--cpp-avocado);
  --accent-foreground: 210 40% 98%;

  --muted: 217.2 32.6% 17.5%;
  --muted-foreground: 215 20.2% 65.1%;

  --card: 222.2 84% 4.9%;
  --card-foreground: 210 40% 98%;

  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 210 40% 98%;
}

/* ---------- Base layer: apply tokens & global tweaks ---------- */
@layer base {
  /* Ensure no default borders appear anywhere */
  * {
    border-width: 0;
    border-style: solid;
    border-color: hsl(var(--border)); /* sets color for when you explicitly add border utilities */
  }

  html {
    /* Smooth anchor scrolling */
    scroll-behavior: smooth;
  }

  body {
    @apply bg-background text-foreground;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Make anchored headings account for sticky navbar */
  main h1,
  main h2,
  main h3,
  main h4,
  main h5,
  main h6 {
    scroll-margin-top: calc(var(--nav-h) + 0.75rem);
  }

  /* Selection color tuned to brand */
  ::selection {
    background-color: hsl(var(--accent) / 0.25);
  }

  /* Default link style that respects theme tokens;
     override with Tailwind as needed */
  a {
    color: hsl(var(--primary));
  }
  a:hover {
    color: hsl(var(--secondary));
  }

  /* Accessible focus ring using token colors */
  :focus-visible {
    outline: 2px solid hsl(var(--ring));
    outline-offset: 2px;
  }

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}

